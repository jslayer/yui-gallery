YUI.add("gallery-adjet",function(e,t){var n,r=e.config.doc,i="contentBox",s=function(){return Array.prototype.slice.call(arguments).join("-")},o="sectionElementChange",u="<div></div>";n=e.Base.create("adjet",e.Widget,[],{initializer:function(){this._sections=this._getStaticSections(),e.before(this._renderSections,this,"renderUI"),e.before(this._bindSections,this,"bindUI"),this.publish(o,{emitFacade:!0}),this.on(o,this._onSectionElementChangeFn,this)},_getStaticSections:function(){var t=this._getClasses(),n={},r,i;for(r=t.length-1;r>=0;r--)i=t[r].SECTIONS,i&&e.mix(n,i,!0,null,0,!0);return n},_renderSections:function(){var t=this.get(i),n=this.get("sections");n!==!0?e.Array.each(n,function(e){this._renderSection(e,t)},this):e.Object.each(this._sections,function(e,n){this._renderSection(n,t)},this)},_renderSection:function(t,n){var i=this._sections[t],a;i&&(a=i._node=e.Node.create("<div></div>",r),i.cssName!==!1&&a.addClass(i.cssName||s("section",t)),e.Object.each(i.elements,function(n,i){var f,l,c;n._section=t,l=n.value?n.value:this.get(n.attribute||i),l=this._elementFormatter(n,l),c=n.template||u,f=n._node=e.Node.create(c,r),this.fire(o,{element:n,value:l}),n.cssName!==!1&&f.addClass(n.cssName||s("section",t,i)),a.append(f)},this),n.append(a))},_bindSections:function(){e.Object.each(this._sections,function(t){t._node&&e.Object.each(t.elements,function(e,t){!e.value&&e.listen!==!1&&this.after((e.attribute||t)+"Change",this._elementValueChangedFn,this,e)},this)},this)},_elementValueChangedFn:function(e,t){var n=e.newVal;t._node&&(n=this._elementFormatter(t,n),this.fire(o,{element:t,value:n}))},_onSectionElementChangeFn:function(e){var t=e.element,n=e.value,r;r=t.targetSelector?t._node.one(t.targetSelector):t._node,r&&(!t.targetAttr&&t.allowHTML?r.setHTML(n):r.set(t.targetAttr?t.targetAttr:"text",n))},_elementFormatter:function(t,n){var r;return e.Lang.isFunction(t.formatter)&&(r=t.formatter.call(this,n,t)),e.Lang.isValue(r)?r:n}},{ATTRS:{sections:{value:!0}},SECTIONS:{}}),e.Adget=n},"@VERSION@",{requires:["base-build","widget"]});
